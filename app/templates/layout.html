<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}ControlFlow{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Local Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<!-- Top Navbar -->
<nav class="navbar navbar-dark bg-dark sticky-top shadow-sm">
    <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">ControlFlow</span>
    </div>
</nav>

<!-- Sidebar + Content -->
<div class="container-fluid">
    <div class="row">

        <!-- Sidebar -->
        <nav id="sidebarMenu" class="col-md-2 d-md-block bg-white shadow-sm vh-100 position-fixed border-end">
            <div class="d-flex flex-column h-100 px-3 pt-4">
                <h4 class="fw-bold mb-4 text-primary">ControlFlow</h4>
                <ul class="nav flex-column">
                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path == '/' %}active{% endif %}" href="{{ url_for('base_routes.dashboard') }}">
                            <span class="icon text-primary">ğŸ“Š</span> Dashboard
                        </a>
                    </li>

                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path.startswith('/quotation/manage') %}active{% endif %}" href="{{ url_for('quotation_routes.manage_quotations') }}">
                            <span class="icon text-primary">ğŸ“‹</span> Manage Quotations
                        </a>
                    </li>

                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path.startswith('/sales-order/manage') %}active{% endif %}" href="{{ url_for('sales_order_routes.manage_sales_orders') }}">
                            <span class="icon text-warning">ğŸ§¾</span> Manage Sales Orders
                        </a>
                    </li>

                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path.startswith('/purchase-order') %}active{% endif %}" href="{{ url_for('purchase_order_routes.manage_purchase_orders') }}">
                            <span class="icon text-danger">ğŸ“¦</span> Manage Purchase Orders
                        </a>
                    </li>

                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path == '/material-receipt' %}active{% endif %}" href="{{ url_for('base_routes.material_receipt') }}">
                            <span class="icon text-info">ğŸ“¥</span> Material Receipt
                        </a>
                    </li>

                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path == '/inventory' %}active{% endif %}" href="{{ url_for('base_routes.inventory') }}">
                            <span class="icon text-dark">ğŸ·ï¸</span> Inventory
                        </a>
                    </li>

                    <li class="nav-item mb-2">
                        <a class="nav-link sidebar-link {% if request.path == '/production' %}active{% endif %}" href="{{ url_for('base_routes.production') }}">
                            <span class="icon text-secondary">ğŸ­</span> Production
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main content -->
        <main class="col-md-9 ms-sm-auto col-lg-10 offset-md-2 px-md-4 py-4">
            {% block content %}
            {% endblock %}
        </main>
    </div>
</div>

<!-- Local Bootstrap JS -->
<script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
</body>
</html>

{% extends 'layout.html' %}

{% block title %}Add Quotation | ControlFlow{% endblock %}

{% block content %}
<h2 class="mb-4">Add New Quotation</h2>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="POST" action="{{ url_for('quotation_routes.add_quotation') }}">
  <div class="row mb-3">
    <div class="col-md-4">
      <label class="form-label">Quotation Number</label>
      <input type="text" class="form-control" name="quotation_number" required>
    </div>
    <div class="col-md-4">
      <label class="form-label">Quotation Date</label>
      <input type="date" class="form-control" name="quotation_date" required>
    </div>
    <div class="col-md-4">
      <label class="form-label">Client Name</label>
      <input type="text" class="form-control" name="client_name" required>
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label">Project Name</label>
    <input type="text" class="form-control" name="project_name" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Project Description & Scope</label>
    <textarea class="form-control" name="project_description" rows="3" required></textarea>
  </div>

  <div class="mb-3">
    <label class="form-label">Estimated Cost (INR)</label>
    <input type="number" class="form-control" step="0.01" name="estimated_cost" required>
  </div>

  <button type="submit" class="btn btn-success">Save Quotation</button>
  <a href="{{ url_for('base_routes.dashboard') }}" class="btn btn-secondary ms-2">Back to Dashboard</a>
</form>
{% endblock %}
